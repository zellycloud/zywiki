# add-autonomous-operation

analyze 명령어와 watch 모드를 추가하여 자율 운영 기능을 제공합니다.

## 버전

v1.1.0

## 배경

MCP 서버(v1.0.0)로 에이전트가 직접 도구를 호출할 수 있게 되었습니다. 이제 에이전트가 스스로 문서화 필요성을 판단하고 자동으로 갱신할 수 있는 기능이 필요합니다.

## 목표

- 문서화 필요성 분석 (`analyze` 명령어)
- 파일 변경 감지 및 자동 빌드 (`watch` 모드)
- 일일 토큰 예산으로 비용 통제

## 범위

### 포함

- `zywiki analyze` - 문서화 필요성 분석
  - urgent: 복잡도 높고 문서 없는 파일
  - stale: 오래된 문서
  - suggestions: 커버리지 개선 제안
- `zywiki watch` - 파일 변경 감지 및 자동 빌드
  - 일일 토큰 예산 (`--max-daily-tokens`)
  - 디바운스 (연속 변경 대기)
  - v0.6.0 안전장치 적용

### 제외

- 실시간 에디터 플러그인
- 푸시 알림

## 성공 기준

1. `zywiki analyze --json`으로 우선순위별 문서화 대상 조회
2. `zywiki watch --max-daily-tokens 50000`으로 안전한 자동 빌드
3. 파일 저장 시 해당 문서 자동 갱신

## 의존성

- v0.6.0 (안전장치 - 필수)
- v1.0.0 (MCP 서버 - zywiki_analyze 도구 제공)

## 주의사항

**watch 모드는 비용 모니터링이 필수입니다.**
- `--max-daily-tokens` 없이 실행 시 경고 표시
- 일일 예산 소진 시 자동 중단
- 예산 리셋 시간: 자정 (로컬 타임존)
